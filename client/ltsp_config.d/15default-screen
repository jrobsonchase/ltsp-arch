# Ensure a default screen if X is present
unset IS_SCREEN
for i in 01 02 03 04 05 06 07 08 09 10 11 12; do
    eval IS_SCREEN=\${SCREEN_${i}}
    [ -n "${IS_SCREEN}" ] && break
done
if [ -z "${IS_SCREEN}" ]; then
    if [ -f /etc/X11/default-display-manager ]; then
        default_display_manager="$(cat /etc/X11/default-display-manager)"
        if [ "$default_display_manager" = "/usr/sbin/ldm" ]; then
            true
        elif [ -x "$default_display_manager" ]; then
            display_manager_configured=true
        elif [ "$default_display_manager" = "/usr/bin/gdm" ] && \
             [ -x /usr/sbin/gdm ]; then
            # some versions of gdm set default-display-manager to /usr/bin/gdm,
            # even if there is no /usr/bin/gdm, but start /usr/sbin/gdm.
            display_manager_configured=true
        fi
    fi
    if [ "$display_manager_configured" = "true" ]; then
        # Do nothing, these daemons (xdm, gdm, kdm, wdm, etc.) should configure themselves.
        true
    elif [ -x /usr/sbin/ldm ]; then
        set_lts_var SCREEN_07 ldm
    elif [ -x /usr/bin/X ]; then
        set_lts_var SCREEN_07 xdmcp
    fi
fi
