#**************************************************************************
#* LPRng IFHP Filter
#* Copyright 1994-1997 Patrick Powell, San Diego, CA <papowell@sdsu.edu>
#*
#* Based on the CTI printer filters.
#*  See COPYRIGHT for details.
#*
#* $Id: Makefile.in,v 1.1 2004/07/08 05:03:36 jam Exp $
#

prefix=@prefix@

VPATH=@srcdir@
SRC=@srcdir@

# Directory where the manual pages are to be placed

MAN=$(DESTDIR)${prefix}/man
INSTALLCMD=@INSTALL@
FONTDIR=$(DESTDIR)${prefix}/lib/filters/fonts/
INSTDIR=$(DESTDIR)${prefix}/lib/filters/

#**************** configure does not change lines after this *********

.PHONY: install all clean distclean ci update

all: lp_server.8

install: lp_server.8
	mkdir -p $(MAN)/man8
	$(INSTALLCMD) -c $^ $(MAN)/man8

clean:

update:
	VERSION=`cat ../$(SRC)/VERSION | sed 's/.* //'`; \
		sed -e 's,_FONTDIR_,$(FONTDIR),g' \
	    -e 's,_INSTDIR_,$(INSTDIR),g' \
	    -e "s,_VERSION_,$${VERSION},g" \
	    lp_server.n >lp_server.8

distclean: clean
	rm -f Makefile Makefile.bsd

ci:
	if test ! -d RCS ; then mkdir RCS; fi;
	for i in Makefile.in Makefile *.n; do \
		ci $(CI) -l -mUpdate -t-Initial $$i; \
	done;
