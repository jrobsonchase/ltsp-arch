. $VENDORS_BASE/debian-based/base-configuration

test -z "$DIST" && DIST=etch
test -z "$MIRROR" && MIRROR="http://http.us.debian.org/debian"
test -z "$COMPONENTS" && COMPONENTS="main"
test -z "$EARLY_PACKAGES" && EARLY_PACKAGES="x-window-system-core ltsp-client discover1 mdetect xresprobe udhcpc udev devfsd xdebconfigurator esound ldm"
test -z "$EXCLUDE" && EXCLUDE="libpcap0.7,libgnutls11,liblockfile1,libpcre3,libtasn1-2,libopencdk8,liblzo1,info,manpages,man-db,libgcrypt11,libgdbm3,libgpg-error0,groff-base,at,cron,logrotate,exim4-config,exim4,exim4-base,exim4-daemon-light,ipchains,mailx,pppconfig,pppoe,pppoeconf,tasksel,base-config,apt-utils,dhcp-client,fdutils,iptables,ppp,whiptail"

if [ "$DIST" = "sid" ]; then
    echo "NOTE: disabling security APT source for sid.  It does not exist."
else
    test -z "$SECURITY_MIRROR" && SECURITY_MIRROR="http://security.debian.org/"
fi

if [ -n "$SECURITY_MIRROR" ] && [ -z "$(echo $SECURITY_MIRROR | awk '{print $2}')" ]; then
    echo "NOTE: adding default dist and components to security mirror:"
    SECURITY_MIRROR="$SECURITY_MIRROR $DIST/updates $COMPONENTS"
    echo "$SECURITY_MIRROR"
fi
